# TodoIng 变更日志

## [0.0.4] - 2025-08-12

### 🐞 修复

- 修复任务评论展示的时间错误：之前显示为任务 updatedAt，现正确显示评论自身 createdAt
- 后端 CreateTask / UpdateTask 支持保留并解析传入的评论 createdAt（RFC3339），否则回退当前时间
- 前端添加评论时仅传递 comments 差异字段，避免覆盖其它字段导致时间歧义

### 🔧 影响范围

- 仅 UI 展示与任务评论写入逻辑，无需数据迁移

### ✅ 验证

- 本地创建任务后连续添加多条评论，时间线按真实创建顺序与时间显示
- 更新任务其它字段不影响既有评论时间戳

---

## [2.0.0] - 2025-08-10

### � 重大重构

- **移除Node.js后端**
  - 删除所有Node.js后端相关代码和配置
  - 移除Node.js相关的文档和部署配置
  - 专注于Golang后端单一技术栈

### � Docker配置优化

- **Golang后端Docker化改进**
  - 修复Dockerfile多阶段构建配置，添加production和grpc目标
  - 统一端口配置为5004
  - 添加健康检查支持（curl）和安全配置
  
- **前端配置专业化**
  - 保留nginx-golang.conf专门用于Golang后端部署
  - 移除nginx-nodejs.conf配置
  - 修复服务间通信配置，确保正确的后端服务发现

### 🐛 环境变量与配置修复

- **邮件服务配置优化**
  - 修复EMAIL_FROM环境变量特殊字符问题
  - 完善邮件验证码功能的SMTP配置

### 🚀 部署验证

- **功能验证完成**
  - Golang版本：所有服务正常运行，API健康检查通过
  - 验证码显示问题已解决，环境变量正确生效

### 📝 文档与规范

- 完善Golang后端部署场景的Docker配置
- 优化服务间依赖关系和健康检查
- 统一容器命名规范

### 🔄 技术债务清理

- 彻底清理Node.js相关配置和文件
- 优化构建上下文和文件映射
- 统一环境变量命名和默认值

---

*本版本完成了TodoIng项目的重大重构，移除了Node.js后端，专注于Golang技术栈，简化了项目架构和维护复杂度。*
